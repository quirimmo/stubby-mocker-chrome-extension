<!doctype html>
<html data-ng-app="myApp">

<head>
    <title>Network calls mocker with stubby dynamic generator</title>
    <style>
        [ng\:cloak],
        [ng-cloak],
        [data-ng-cloak],
        [x-ng-cloak],
        .ng-cloak,
        .x-ng-cloak {
            display: none !important;
        }
    </style>
    <link rel="stylesheet" media="all" href="./vendors/angular-material.min.css">
    <link rel="stylesheet" media="all" href="./styles/style.css">
</head>

<body data-ng-controller="MainController" ng-cloak>
    <md-content>
        <div class="main-container" layout="column">

            <md-toolbar>
                <div class="md-toolbar-tools">
                    <h2>
                        <span>Sniffing tab {{currentTabID}}: <b>{{currentTabTitle}}</b></span>
                    </h2>
                    <span flex></span>
                    <md-button class="md-raised" aria-label="Clear" ng-click="clearData()">Clear</md-button>
                </div>
            </md-toolbar>

            <md-list flex>
                <md-subheader class="md-no-sticky">Sniffed Requests:</md-subheader>
                <md-list-item class="md-1-line request-list-item" ng-repeat="item in data track by $index">
                    <div class="md-list-item-text request-list-item-content" layout="column">
                        
                        <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
                            <h3>Request {{$index + 1}}</h3>
                            <span flex></span>
                            <md-button class="md-raised md-primary" aria-label="Open Details" ng-click="item.showDetails = !item.showDetails">Open Details</md-button>
                        </section>

                        <div ng-show="item.showDetails">
                            <div ng-click="$event.stopPropagation(); item.showRequestDetails = !item.showRequestDetails">
                                Request Details
                            </div>
                            <div ng-show="item.showRequestDetails">
                                <pre>{{item.details.request}}</pre>
                            </div>
                            <div ng-click="$event.stopPropagation(); item.showResponseDetails = !item.showResponseDetails">
                                Response Details
                            </div>
                            <div ng-show="item.showResponseDetails">
                                <pre>{{item.details.response}}</pre>
                            </div>
                        </div>
                    </div>
                    <md-divider></md-divider>
                </md-list-item>
            </md-list>

            <!-- <div>
                Current tab id: {{currentTabID}}
            </div>
            <div>
                Current tab title: {{currentTabTitle}}
            </div>
            <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
                <md-button class="md-raised md-primary" ng-click="clearData()">Clear</md-button>
            </section> -->

            <!-- <md-toolbar md-scroll-shrink>
                <div class="md-toolbar-tools">
                    <h3>
                        <span>Sniffed Requests</span>
                    </h3>
                </div>
            </md-toolbar>

            <md-content flex>
                <md-list>
                    <md-list-item class="md-3-line" ng-repeat="item in data track by $index">
                        <div ng-click="item.showDetails = !item.showDetails">Request {{$index + 1}}</div>
                        <div ng-show="item.showDetails">
                            <div ng-click="item.showRequestDetails = !item.showRequestDetails">
                                Request Details
                            </div>
                            <div ng-show="item.showRequestDetails">
                                <pre>{{item.details.request}}</pre>
                            </div>
                            <div ng-click="item.showResponseDetails = !item.showResponseDetails">
                                Response Details
                            </div>
                            <div ng-show="item.showResponseDetails">
                                <pre>{{item.details.response}}</pre>
                            </div>
                        </div>
                        <md-divider inset></md-divider>
                    </md-list-item>
                </md-list>
            </md-content> -->

            <!-- <div ng-repeat="item in data track by $index">
                <div ng-click="item.showDetails = !item.showDetails">Request {{$index + 1}}</div>
                <div ng-show="item.showDetails">
                    <div ng-click="item.showRequestDetails = !item.showRequestDetails">
                        Request Details
                    </div>
                    <div ng-show="item.showRequestDetails">
                        <pre>{{item.details.request}}</pre>
                    </div>
                    <div ng-click="item.showResponseDetails = !item.showResponseDetails">
                        Response Details
                    </div>
                    <div ng-show="item.showResponseDetails">
                        <pre>{{item.details.response}}</pre>
                    </div>
                </div>
            </div> -->
        </div>
    </md-content>


    <script src="./vendors/jquery-3.2.1.min.js"></script>
    <script src="./vendors/angular.min.js"></script>
    <script src="./vendors/angular-aria.min.js"></script>
    <script src="./vendors/angular-animate.min.js"></script>
    <script src="./vendors/angular-material.min.js"></script>
    <script src="./app/app.js"></script>
    <script src="./app/controllers/main.controller.js"></script>
    <script src="./app/services/chrome.service.js"></script>
    <script src="./app/services/network-requests.service.js"></script>
</body>

</html>